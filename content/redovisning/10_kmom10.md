---
---

# Redovisning kmom10

## Krav 1-3 (Obligatoriska)

Gällande de 3 första obligatoriska grundkraven så valde jag att bygga en slags hybrid mellan Stackoverflow samt ett mer traditionellt diskussionsforum, som jag namngav CodeWizards. Jag valde att lösenordsskydda alla routes som är kopplade till själva forumet, med andra ord om en användare inte har registrerat sig samt loggat in, så går det endast att komma åt registrerings och login routen. Detta kontrollerar jag med hjälp utav if-satser i respektive kontroller för varje route, genom att kontrollera om $\_SESSION[“username”] har ett värde. Jag byggde även in stöd i användartabellen för att stödja två typer ut av användarkonton, “användare” samt “admin”, då jag även ville bygga ut en admin del för forumet. Endast en användare med admin rättigheter kan nå admin delen, detta kontrollerar jag genom att hämta data från användartabellen vid inloggning och beroende på rättigheter så skrivs de till $\_SESSION[“permission”], detta värde kontrollerar jag sedan i routes avsatta för administratörer.
På webbplatsens startsida “home” möts användaren utav en överblick som uppvisar de 3 senast skapade foruminläggen, de 3 mest populära taggarna samt de 3 mest aktiva användarna. Sidan innehåller även följande sidor: Forumet som är uppdelat i 3 undersidor (kategorier, ämnen samt svar), Taggar som visar en översikt av alla taggar som en användare kan välja att tilldela ett ämne, Användare som uppvisar de uppgifter som en användare uppgav vid registreringen samt en gravatar i det fallet en användare har kopplat en gravatar till sin email adress men även funktionalitet för att uppdatera sina uppgifter, radera sitt konto och även en knapp för att se sin publika sida som innehåller alla aktivitet från forumet kopplat till den specifika användaren, Om som innehåller information gällande webbplatsen, länk till github repot samt kort information om projektets utvecklare (mig själv) samt slutligen finns det en logout route för att logga ut användaren samt förstöra sessionen.
Då jag valde att skapa ett tradionellt forum, så kan en användare starta ämnen (som är kopplade till en viss kategori) och därefter kan alla användare svara på denna tråd. Därmed går det inte att kommentera på ett svar, men en användare kan givetvis svara på ett svar. Upplägget är alltså Kategorie > Ämne > Svar. Ett ämne kan naturligtvis ha ett oändligt antal svar kopplade till sig. Jag valde att begränsa att endast användare med administratörsbehörighet kan skapa, ändra och radera kategorier. Alla ämnen samt svar är kopplade till respektive användare, detta sker genom foreign och primary keys i databasupplägget där jag kopplar ihop tabellerna Topics, Posts samt User, på så sätt kan jag enkelt ställa SQL satser med Join option. Om en klickar på en särskild användare så får en upp en sida som visar dess aktivitet på forumet.
På liknande sätt har jag byggt in stöd för att kunna lista taggar och se vilka ämnen som är kopplade till respektive tagg, här valde jag istället att använda en kopplingstabell Tag2topic som länkar ihop tabellerna Tags samt Topics. När en användare klickar på en viss tagg så dirigeras användaren till en sida som vissar upp alla ämnen kopplade till taggen i fråga.
Alla svar körs genom ett Markdown filter innan de skrivs ut och visas upp för användaren i vyerna avsatta för detta ändamål, därmed finns det inbyggt stöd för användaren att formattera sin text med hjälp utav Markdown syntax.
Github repot är publicerat här: https://github.com/ollebergkvist/ramverk1-final-project och har integretats med följande CI-tjänster: Travis (byggtjänst), Scrutinizer (byggtjänst), Code Climate (kodkvalitet) samt Circle CI (byggtjänst). I github repot finns en README fil som visar hur en kan hämta hem repot och själva bygga en egen version utav tjänsten. Applikationen är även publicerad på studentservern och det går att köra kommandot make test med godkänt resultat.

## Krav 4 (Optionellt)

När det kommer till det första optionella kravet så valde jag först och främst att implementera funktionalitet för att stödja röstning på skapade ämnen, här kan alla användare bortsett från skaparen utav ämnet rösta upp eller ner ett ämne med +1 respektive –1 poäng. Det finns även liknande stöd för svar, men här kan givetvis även trådskaparen rösta samt markera valfritt svar som “accepterat” genom att klicka på en check-mark ikon. Viktigt att notera är att endast skaparen utav ämnet kan markera ett svar som accepterat. När ett svar markeras som accepterat så sätts kolumnen accepted i tabellet för svar till true. När detta sker uppdateras ikonen till en grön färg för att tydliggöra svarets nya status. På liknande sätt uppdateras ikonenerna för up-vote och down-vote (grönt respektive rött) samt vid neutralt läge (mörk grått), vilket bidrar till en trevlig användarupplevelse.
I varje ämne kan användaren även sortera alla svar efter antalet poäng samt datum och översikten för ämnena visar vilken rank ämnet har samt hur många svar som återfinns i tråden.
Notis: Då jag har skapat ett mer traditionsenligt forum med endast ämnen och svar (kopplade till kategorier), så går det endast att rösta på dessa två delar. Men på det stora hela hade det endast vara att kopiera samma logik till “kommentarer” om jag nu hade byggt en Stackoverflow kopia istället.

## Krav 5 (Optionellt)

Här implementerade jag ett poängsystem för användare, där en användare får ett poäng för att skapa en tråd respektive att svara på en tråd, dessa poäng summeras i sin tur tillsammans med ranken för en viss fråga eller svar och ger på så sätt en total poäng för en viss användare. De två första delarna löste jag enkelt genom att uppdatera kolumnen “rank” i användartabellen vid skapande utav ämnen och svar.
I kontrollerna för vyerna där poäng och rykte för en användare presenteras hämtas datan från databasen tillsammans med datan från ranken utav ämnen och svar kopplade till användaren. Därefter summeras poängen och i följande steg kontrolleras antalet poäng i if-satser och beroende på antalet poäng så kan en användares rykte sättas till: beginner, student, teacher, pro och master. Ryktet, antalet poäng samt antalet genomförda röstningar presenteras på användarens publika sida tillsammans med all forumaktivitet.

## Krav 6 (Valfritt)

Anträffande det sista valfria kravet så valde jag dels att implementera admin funktionalitet till forumet, användare med administratörs rättigheter kan nå en skyddad del utav forumet och vid inloggning presenteras användaren för ett administratörs dashboard. Här har jag byggt in fullt CRUD stöd för kategorier och taggar (vanliga användare kan varken skapa kategorier eller taggar, en begränsning som kändes vettig), för ämnen och svar finns det stöd för att editera och ta bort (i de fall som innehållet skulle bryta mot forumets regler) samt slutligen möjlighet för att ta bort användare (som inte sköter sig).
I övrigt har jag även förbättrat hur krav 4 är implementerat, här valde jag att försöka efterlikna hur motsvarande funktionalitet fungerar på Stackoverflow. Först och främst kan en användare inte rösta på sitt egna ämne eller svar och för det andra går det endast att rösta på ett ämne/svar en gång. Om en röstar upp så höjs poängen med ett, vilket leder till att ikonen får en grön färg, om användaren klickar på samma ikon igen tas rösten bort och ikonen går tillbaka till sin neutrala färg, motsvarande sker om en röstar ner men här ikonen en röd färg. Det finns alltså stör för en användare att ångra sitt svar och ändra precis som hen vill.

## Allmänt om projektet

Allmänt gällande detta projekt så har det varit det mest tidskrävande och antagligen det svåraste projektet hitintills under programmets gång, i övriga kurser har jag normalt sett avsatt 7 dagar för att uppfylla alla 6 krav, men nu har jag nästan klockat in på 3.5 vecka. Det känns som att ribban för grundkraven sattes högre i denna kurs, det förväntades mer utav oss studenter helt enkelt. Ribban för krav 4 var också högt, det tog mig nästan en hel vecka för att lösa det på ett snyggt sätt och för att försöka imitera samma funktion från Stackoverflow. Generellt sätt så hjälpte projektet mig att verkligen befästa mina PHP kunskaper, jag har under en längre period känt att jag har mycket lättare för javascript och dess ramverk i jämförelse med PHP. Men nu när jag väl är klar med projektet så skulle jag nästan kunna tänka mig att jobba med PHP i arbetslivet sedan, något som jag innan kursens gång inte fanns på kartan. Det här var helt klart det svåraste projektet, men kanske är rimligt att sätta ribban högre här då det trots allt är den sista dbwebb och renodlade programmeringskursen i det 2-åriga programmet.

## Allmänt om kursen

Generellt sätt gällande kursen så har det varit väldigt givande, jag kände att jag lämnade föregående PHP kurs med relativt många frågetecken gällande controllers, mvc, anax ramverket och dylikt. Men nu äntligen har alla pusselbitar fallit på plats och jag känner att jag skulle kunna använda anax för att i stort sett kunna bygga vad som helst! I föregående kurs så handlade det mest om att ta sig igenom kursen, men jag förstod inte alltid hur saker och ting hängde ihop, men det gör jag nu. Jag är faktiskt stolt över mig själv nu, istället för att fastna på problem har jag lärt mig att i många fall jobba runt dem, jag kan äntligen läsa och ta mig till hela stacktracen utav felmeddelandena från ramverket (något som kändes helt omöjligt för ett år sedan), jag har till och med gått in och ändrat på källkod i anax ramverket när det har behövts. Jag är otroligt nöjd med denna kurs, det har varit fint att få låta vingarna flyga, iband för att krascha men sedan för att resa sig upp igen och med bra insyn till varför saker och ting hände. Den här kursen får 10/10 utav mig! Det tråkigaste är att mitt äventyr med dbwebb slutar här, hoppas att det tredje året kommer gå att läsa på distans i framtiden! Hade gärna sökt in och tagit en kandidat isåfall.
